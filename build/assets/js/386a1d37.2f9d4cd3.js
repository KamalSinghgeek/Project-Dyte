"use strict";(self.webpackChunkdyte_docs=self.webpackChunkdyte_docs||[]).push([[31664],{41384:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"build-pre-call-ui/build-your-own/edit-user-name","title":"Edit user name","description":"A common use case of pre-call UI is to give the user a option to set / edit their name.","source":"@site/docs/rn-ui-kit/build-pre-call-ui/build-your-own/edit-user-name.mdx","sourceDirName":"build-pre-call-ui/build-your-own","slug":"/build-pre-call-ui/build-your-own/edit-user-name","permalink":"/react-native/build-pre-call-ui/build-your-own/edit-user-name","draft":false,"unlisted":false,"editUrl":"https://github.com/dyte-io/docs/tree/main/docs/rn-ui-kit/build-pre-call-ui/build-your-own/edit-user-name.mdx","tags":[],"version":"current","lastUpdatedAt":1731210620000,"sidebarPosition":2,"frontMatter":{"title":"Edit user name","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Basic structure","permalink":"/react-native/build-pre-call-ui/build-your-own/initial-code-skeleton"},"next":{"title":"Audio/video - Preview","permalink":"/react-native/build-pre-call-ui/build-your-own/add-audio-video-preview"}}');var r=n(74848),s=n(28453);const a={title:"Edit user name",sidebar_position:2},o=void 0,l={},c=[{value:"Permissions",id:"permissions",level:3},{value:"File: CustomMeetingPreview.tsx",id:"file-custommeetingpreviewtsx",level:3}];function d(e){const t={code:"code",h3:"h3",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.p,{children:"A common use case of pre-call UI is to give the user a option to set / edit their name."}),"\n",(0,r.jsx)(t.h3,{id:"permissions",children:"Permissions"}),"\n",(0,r.jsxs)(t.p,{children:["Requires ",(0,r.jsx)(t.code,{children:"meeting.self.permissions.canEditDisplayName"})," to be ",(0,r.jsx)(t.code,{children:"true"})]}),"\n",(0,r.jsxs)(t.p,{children:["In the preset editor, ensure ",(0,r.jsx)(t.code,{children:"Miscellaneous > Edit Name"})," is toggled enabled."]}),"\n",(0,r.jsx)("img",{src:"/static/react/preset-edit-name.png"}),"\n",(0,r.jsx)(t.h3,{id:"file-custommeetingpreviewtsx",children:"File: CustomMeetingPreview.tsx"}),"\n",(0,r.jsxs)(t.p,{children:["We add a ",(0,r.jsx)(t.code,{children:"DyteInputField"})," element for entering the participant name. We should not show this input if the user doese not have permission to edit name (",(0,r.jsx)(t.code,{children:"permissions.canEditDisplayName"}),")"]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"await meeting.self.setName(participantName);"})," sets the new name for the participant."]}),"\n",(0,r.jsxs)(t.p,{children:["At the end, we let user join the meeting using ",(0,r.jsx)(t.code,{children:"await meeting.join();"}),"."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-tsx",children:"import { useDyteMeeting, useDyteSelector } from '@dytesdk/react-native-core';\r\nimport { DyteButton, DyteTextField } from '@dytesdk/react-native-ui-kit';\r\nimport { useState, useEffect } from 'react';\r\nimport { View } from 'react-native';\r\n\r\nexport default function CustomMeetingPreview() {\r\n  const { meeting } = useDyteMeeting();\r\n  const permissions = useDyteSelector((m) => m.self.permissions);\r\n  const [participantName, setParticipantName] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (!meeting) {\r\n      return;\r\n    }\r\n    setParticipantName(meeting.self.name);\r\n  }, [meeting]);\r\n\r\n  return (\r\n    <View\r\n      className=\"flex h-full w-full flex-col items-center justify-center\"\r\n      style={{ minHeight: '400px' }}\r\n    >\r\n      <View className=\"flex w-full items-center justify-around p-[10%]\">\r\n        <View></View>\r\n        <View className=\"flex w-1/4 flex-col justify-between\">\r\n          <View className=\"flex flex-col items-center\">\r\n            <p>Joining as</p>\r\n          </View>\r\n          {permissions.canEditDisplayName && (\r\n            <DyteTextField\r\n              placeholder=\"Your name\"\r\n              value={participantName}\r\n              onChange={(event) => setParticipantName(event.target.value)}\r\n            />\r\n          )}\r\n          <DyteButton\r\n            kind=\"wide\"\r\n            size=\"lg\"\r\n            style={{ cursor: participantName ? 'pointer' : 'not-allowed' }}\r\n            onClick={async () => {\r\n              if (participantName) {\r\n                if (permissions.canEditDisplayName) {\r\n                  await meeting.self.setName(participantName);\r\n                }\r\n                await meeting.join();\r\n              }\r\n            }}\r\n          >\r\n            Join\r\n          </DyteButton>\r\n        </View>\r\n      </View>\r\n    </View>\r\n  );\r\n}\n"})})]})}function u(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>o});var i=n(96540);const r={},s=i.createContext(r);function a(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);