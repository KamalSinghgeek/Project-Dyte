"use strict";(self.webpackChunkdyte_docs=self.webpackChunkdyte_docs||[]).push([[87602],{60954:(e,r,o)=>{o.r(r),o.d(r,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"capabilities/recording/custom-cloud-storage","title":"Upload Recording to Your Cloud","description":"Explore how to set up custom cloud storage for Dyte\'s recording. Follow our guide for effective configuration and integration.","source":"@site/docs/guides/capabilities/recording/custom-cloud-storage.mdx","sourceDirName":"capabilities/recording","slug":"/capabilities/recording/custom-cloud-storage","permalink":"/guides/capabilities/recording/custom-cloud-storage","draft":false,"unlisted":false,"editUrl":"https://github.com/dyte-io/docs/tree/main/docs/guides/capabilities/recording/custom-cloud-storage.mdx","tags":[],"version":"current","lastUpdatedAt":1731210620000,"sidebarPosition":4,"frontMatter":{"title":"Upload Recording to Your Cloud","sidebar_position":4,"description":"Explore how to set up custom cloud storage for Dyte\'s recording. Follow our guide for effective configuration and integration."},"sidebar":"tutorialSidebar","previous":{"title":"Stop Recording a Meeting","permalink":"/guides/capabilities/recording/stop-recording"},"next":{"title":"Monitor Recording Status","permalink":"/guides/capabilities/recording/monitor-status"}}');var n=o(74848),i=o(28453);const s={title:"Upload Recording to Your Cloud",sidebar_position:4,description:"Explore how to set up custom cloud storage for Dyte's recording. Follow our guide for effective configuration and integration."},a=void 0,c={},l=[{value:"Set storage configuration",id:"set-storage-configuration",level:2},{value:"Set Storage Configuration Details Using Developer Portal",id:"set-storage-configuration-details-using-developer-portal",level:3},{value:"Using the <code>storage_config</code> option in the Start Recording API",id:"using-the-storage_config-option-in-the-start-recording-api",level:3},{value:"Supported Cloud Providers",id:"supported-cloud-providers",level:2},{value:"AWS S3",id:"aws-s3",level:3},{value:"Azure Blob Storage",id:"azure-blob-storage",level:3},{value:"DigitalOcean",id:"digitalocean",level:3},{value:"Google Cloud Storage (GCS)",id:"google-cloud-storage-gcs",level:3},{value:"Update the Recording File Name",id:"update-the-recording-file-name",level:2}];function d(e){const r={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components},{Head:o}=r;return o||function(e,r){throw new Error("Expected "+(r?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Head",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r.p,{children:["You can pass an optional object ",(0,n.jsx)(r.code,{children:"storage_config"})," in the start recording request\r\nto publish the recording directly to your cloud provider. If a ",(0,n.jsx)(r.code,{children:"path"})," is\r\nspecified, the recorded video will be stored there, otherwise the default is the\r\nroot of the directory."]}),"\n",(0,n.jsxs)(r.p,{children:["The filename for recording will be the same as given in ",(0,n.jsx)(r.code,{children:"output_file_name"}),"."]}),"\n",(0,n.jsx)(r.admonition,{title:"note",type:"info",children:(0,n.jsx)(r.p,{children:"Ensure that the cloud keys you provide to Dyte APIs have only limited access."})}),"\n",(0,n.jsx)(r.h2,{id:"set-storage-configuration",children:"Set storage configuration"}),"\n",(0,n.jsx)(r.p,{children:"You can configure storage configs for Dyte Recordings in the following ways:"}),"\n",(0,n.jsx)(r.h3,{id:"set-storage-configuration-details-using-developer-portal",children:"Set Storage Configuration Details Using Developer Portal"}),"\n",(0,n.jsx)(r.p,{children:"You can specify storage configuration details using Developer Portal for all meetings."}),"\n",(0,n.jsxs)(r.ol,{children:["\n",(0,n.jsx)(r.li,{children:"In the Developer Portal, go to Recordings."}),"\n",(0,n.jsxs)(r.li,{children:["Click ",(0,n.jsx)(r.strong,{children:"Setup Storage"}),"."]}),"\n",(0,n.jsx)(r.li,{children:"Specify the details for your cloud provider. We support transferring\r\nrecordings to AWS, Azure, DigitalOcean, and Google Cloud Storage (GCS) buckets."}),"\n"]}),"\n",(0,n.jsx)("img",{src:"/static/guides/recording-storage.png",width:"600",height:"300",alt:"recording-storage",className:"record-storage"}),"\n",(0,n.jsx)("br",{}),"\n",(0,n.jsx)(r.admonition,{title:"note",type:"info",children:(0,n.jsxs)(r.p,{children:["If you have specified storage configuration in the\r\n",(0,n.jsx)(r.a,{href:"/api/?v=v2#/operations/start_recording",children:"Start Recording"})," APIs, it will take\r\nprecedence and override the storage details configured in the Developer Portal."]})}),"\n",(0,n.jsxs)(r.h3,{id:"using-the-storage_config-option-in-the-start-recording-api",children:["Using the ",(0,n.jsx)(r.code,{children:"storage_config"})," option in the Start Recording API"]}),"\n",(0,n.jsxs)(r.p,{children:["This allows for the most granular level of control, and lets you specify a\r\nstorage_config for a specific\r\n",(0,n.jsx)(r.a,{href:"/api/?v=v2#/operations/start_recording",children:"recording started"})," on a meeting."]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-bash",children:'curl --request POST \\\r\n  --url https://api.dyte.io/v2/recordings \\\r\n  --header \'Authorization: Basic NzBjNWQzOTEtNGJhYy00Y2YzLTk5MDctYmVjMjA1Nzk4YWRiOmQyNzBmYjJmOGNiNGUzZWY1MGI1\' \\\r\n  --header \'Content-Type: application/json\' \\\r\n  --data \'{\r\n  "meeting_id": "97440c6a-140b-40a9-9499-b23fd7a3868a",\r\n  "storage_config": {\r\n    "type": "aws",\r\n    "access_key": "your-access-key",\r\n    "secret_key": "your-secret-key",\r\n    "bucket": "your-bucket-name",\r\n    "region": "us-east-1",\r\n    "path": "/"\r\n  }\r\n}\'\n'})}),"\n",(0,n.jsx)(r.h2,{id:"supported-cloud-providers",children:"Supported Cloud Providers"}),"\n",(0,n.jsx)(r.p,{children:"Currently, the following cloud providers are supported:"}),"\n",(0,n.jsx)(r.h3,{id:"aws-s3",children:"AWS S3"}),"\n",(0,n.jsxs)(r.p,{children:["To transfer recordings to the AWS S3 bucket, set the following fields in the\r\n",(0,n.jsx)(r.code,{children:"storage_config"})," parameter:"]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"Type: Specify aws."}),"\n",(0,n.jsxs)(r.li,{children:["Access Key: Enter your ",(0,n.jsx)(r.code,{children:"aws_access_key_id"}),"."]}),"\n",(0,n.jsx)(r.li,{children:"Bucket: Enter your AWS S3 bucket name."}),"\n",(0,n.jsx)(r.li,{children:"(Optional) Path: Specify the path to a sub-folder where recordings should be\r\ntransferred. If this parameter is not passed, recordings will be transferred\r\nto the root folder of the bucket."}),"\n",(0,n.jsxs)(r.li,{children:["Secret: Enter your ",(0,n.jsx)(r.code,{children:"aws_secret_access_key"}),"."]}),"\n",(0,n.jsxs)(r.li,{children:["Region: Specify the region where your bucket is hosted, for example,\r\n",(0,n.jsx)(r.code,{children:"ap-south-1"}),"."]}),"\n"]}),"\n",(0,n.jsx)(r.h3,{id:"azure-blob-storage",children:"Azure Blob Storage"}),"\n",(0,n.jsxs)(r.p,{children:["To transfer recordings to the Azure Blob Storage, set the following fields in\r\nthe ",(0,n.jsx)(r.code,{children:"storage_config"})," parameter:"]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:["Type: Specify ",(0,n.jsx)(r.code,{children:"azure"}),"."]}),"\n",(0,n.jsxs)(r.li,{children:["Access key: Enter your azure connection string. For more information on how to\r\nget the access key, see\r\n",(0,n.jsx)(r.a,{href:"https://learn.microsoft.com/en-us/azure/storage/common/storage-account-keys-manage?toc=%2Fazure%2Fstorage%2Fblobs%2Ftoc.json&bc=%2Fazure%2Fstorage%2Fblobs%2Fbreadcrumb%2Ftoc.json&tabs=azure-portal#view-account-access-keys",children:"View account access key"}),"."]}),"\n",(0,n.jsx)(r.li,{children:"Bucket: Enter the name of your container. The container should be in the same\r\nstorage account as the connection string."}),"\n",(0,n.jsx)(r.li,{children:"(Optional) Path: Specify the path to a sub-folder where recordings should be\r\ntransferred. If this parameter is not passed, recordings will be transferred\r\nto the root folder of the container."}),"\n",(0,n.jsx)(r.li,{children:'Secret: Set to a blank string "".'}),"\n",(0,n.jsx)(r.li,{children:'Region: Set to a blank string "".'}),"\n"]}),"\n",(0,n.jsx)(r.h3,{id:"digitalocean",children:"DigitalOcean"}),"\n",(0,n.jsxs)(r.p,{children:["To transfer recordings to the DigitalOcean Spaces, set the following fields in\r\nthe ",(0,n.jsx)(r.code,{children:"storage_config"})," parameter:"]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:["Type: Specify ",(0,n.jsx)(r.code,{children:"digitalocean"}),"."]}),"\n",(0,n.jsxs)(r.li,{children:["Access key: Enter your digital ocean access key. For more information, see\r\n",(0,n.jsx)(r.a,{href:"https://www.digitalocean.com/community/tutorials/how-to-create-a-digitalocean-space-and-api-key",children:"Create DigitalOcean Space and API Key"}),"."]}),"\n",(0,n.jsx)(r.li,{children:"Bucket: Enter the name of your Spaces bucket."}),"\n",(0,n.jsx)(r.li,{children:"(Optional) Path: Specify the path to a sub-folder where recordings should be\r\ntransferred. If this parameter is not passed, recordings will be transferred\r\nto the root folder of the container."}),"\n",(0,n.jsx)(r.li,{children:"Secret: Enter your Spaces secret."}),"\n",(0,n.jsxs)(r.li,{children:["Region: Specify the region where your Spaces bucket is hosted, for example,\r\n",(0,n.jsx)(r.code,{children:"SGP1"}),". For more information, see\r\n",(0,n.jsx)(r.a,{href:"https://docs.digitalocean.com/products/platform/availability-matrix/",children:"Region Availability Matrix"}),"."]}),"\n"]}),"\n",(0,n.jsx)(r.h3,{id:"google-cloud-storage-gcs",children:"Google Cloud Storage (GCS)"}),"\n",(0,n.jsxs)(r.p,{children:["To transfer recordings to GCS, set the following fields in\r\nthe ",(0,n.jsx)(r.code,{children:"storage_config"})," parameter:"]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:["Type: Specify ",(0,n.jsx)(r.code,{children:"gcs"}),"."]}),"\n",(0,n.jsx)(r.li,{children:"Bucket: Enter the name of your Cloud Storage bucket."}),"\n",(0,n.jsx)(r.li,{children:"(Optional) Path: Specify the path to a sub-folder where recordings should be\r\ntransferred. If this parameter is not passed, recordings will be transferred\r\nto the root folder of the container."}),"\n",(0,n.jsxs)(r.li,{children:["Secret: Enter your service account credentials. For more information, see ",(0,n.jsx)(r.a,{href:"https://developers.google.com/workspace/guides/create-credentials#service-account",children:"service account credentials"}),"."]}),"\n",(0,n.jsxs)(r.li,{children:["Region: Specify the region where your Cloud Storage bucket is hosted, for example,\r\n",(0,n.jsx)(r.code,{children:"US multi-region"}),". For more information, see\r\n",(0,n.jsx)(r.a,{href:"https://cloud.google.com/storage/docs/locations",children:"Bucket locations"}),"."]}),"\n"]}),"\n",(0,n.jsx)(r.h2,{id:"update-the-recording-file-name",children:"Update the Recording File Name"}),"\n",(0,n.jsxs)(r.p,{children:["You can change the name of the recording file using the ",(0,n.jsx)(r.code,{children:"file_name_prefix"})," field. The default format for recorded file name is ",(0,n.jsx)(r.code,{children:"roomname_timestamp"}),", but you can add an alphanumeric and underscore prefix to the default file name."]}),"\n",(0,n.jsxs)(r.p,{children:["It's important to note that you can only add a prefix to the default format; you can't change the entire file name. For example, if you teach an online physics class at 9 a.m. using Dyte, you could add ",(0,n.jsx)(r.code,{children:"Physics_9am"})," to the file name. ",(0,n.jsx)(r.code,{children:"Physics_9am_roomname_timestamp"})," would be the new file name."]}),"\n",(0,n.jsxs)(r.p,{children:["For more information, see ",(0,n.jsx)(r.a,{href:"/api#/operations/start_recording",children:"start recording a meeting"}),"."]}),"\n",(0,n.jsxs)(o,{children:[(0,n.jsx)("title",{children:"Publish Recorded File to Your Cloud Provider Guide"}),(0,n.jsx)("meta",{name:"description",content:"Explore how to set up custom cloud storage for Dyte's recording. Follow our guide for effective configuration and integration."})]})]})}function h(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},28453:(e,r,o)=>{o.d(r,{R:()=>s,x:()=>a});var t=o(96540);const n={},i=t.createContext(n);function s(e){const r=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:s(e.components),t.createElement(i.Provider,{value:r},e.children)}}}]);