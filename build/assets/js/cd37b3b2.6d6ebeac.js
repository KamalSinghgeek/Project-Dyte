"use strict";(self.webpackChunkdyte_docs=self.webpackChunkdyte_docs||[]).push([[19537],{79922:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"capabilities/webhooks/webhooks-and-events","title":"Set Up Webhooks to Receive Real-time Updates","description":"Learn about the relationship between webhooks and events in Dyte. Follow our guide for effective integration and management.","source":"@site/docs/guides/capabilities/webhooks/webhooks-and-events.mdx","sourceDirName":"capabilities/webhooks","slug":"/capabilities/webhooks/webhooks-and-events","permalink":"/guides/capabilities/webhooks/webhooks-and-events","draft":false,"unlisted":false,"editUrl":"https://github.com/dyte-io/docs/tree/main/docs/guides/capabilities/webhooks/webhooks-and-events.mdx","tags":[],"version":"current","lastUpdatedAt":1731210620000,"sidebarPosition":2,"frontMatter":{"title":"Set Up Webhooks to Receive Real-time Updates","sidebar_position":2,"description":"Learn about the relationship between webhooks and events in Dyte. Follow our guide for effective integration and management."},"sidebar":"tutorialSidebar","previous":{"title":"Webhooks Overview","permalink":"/guides/capabilities/webhooks/webhooks-overview"},"next":{"title":"Webhook Events List","permalink":"/guides/capabilities/webhooks/webhook-events"}}');var s=t(74848),r=t(28453);const i={title:"Set Up Webhooks to Receive Real-time Updates",sidebar_position:2,description:"Learn about the relationship between webhooks and events in Dyte. Follow our guide for effective integration and management."},a="Set Up Webhooks to Receive Real-time Updates",d={},c=[{value:"Step 1: Identify the events to monitor",id:"step-1-identify-the-events-to-monitor",level:3},{value:"Step 2: Create a webhook endpoint",id:"step-2-create-a-webhook-endpoint",level:3},{value:"Step 3: Handle requests from Dyte",id:"step-3-handle-requests-from-dyte",level:3},{value:"Register your Endpoint",id:"register-your-endpoint",level:4},{value:"Check for <code>dyte-uuid</code> Header",id:"check-for-dyte-uuid-header",level:4},{value:"Return a <code>2xx</code> Response",id:"return-a-2xx-response",level:4},{value:"Built-in Retries",id:"built-in-retries",level:4},{value:"Step 4: Secure your webhooks (recommended)",id:"step-4-secure-your-webhooks-recommended",level:3},{value:"Sample code",id:"sample-code",level:4},{value:"Step 5: Register your HTTPS URL",id:"step-5-register-your-https-url",level:3},{value:"See also",id:"see-also",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components},{Head:t,TabItem:o,Tabs:i}=n;return t||p("Head",!0),o||p("TabItem",!0),i||p("Tabs",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"set-up-webhooks-to-receive-real-time-updates",children:"Set Up Webhooks to Receive Real-time Updates"})}),"\n",(0,s.jsxs)(n.p,{children:["This topic explains how to set up webhooks to receive real-time updates for\r\nspecific events. Refer\r\n",(0,s.jsx)(n.a,{href:"/guides/capabilities/webhooks/webhook-events",children:"View Webhook Events List"})," to view the list of\r\nevents for which notifications can be sent. Setting up a webhook to start\r\nreceiving notifications in your application involves the following steps:"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Identify the events you want to monitor and the event payloads you want to\r\nparse."}),"\n",(0,s.jsx)(n.li,{children:"Create a webhook endpoint as an HTTP endpoint (URL) on your backend\r\napplication. Creating a webhook endpoint is no different from creating any\r\nother API route on your backend. It's an HTTP or HTTPS endpoint on your\r\nserver with a URL. You can use a single endpoint to handle multiple event\r\ntypes at once, or you can set up individual endpoints for specific events."}),"\n",(0,s.jsx)(n.li,{children:"Handle requests from Dyte by parsing each event object and returning 2xx\r\nresponse status codes."}),"\n",(0,s.jsx)(n.li,{children:"Deploy your webhook endpoint so it's a publicly accessible HTTPS URL."}),"\n",(0,s.jsxs)(n.li,{children:["Register your publicly accessible HTTPS URL using the Dyte\r\n",(0,s.jsx)(n.a,{href:"https://dev.dyte.io",children:"developer portal"})," or Webhook APIs."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"step-1-identify-the-events-to-monitor",children:"Step 1: Identify the events to monitor"}),"\n",(0,s.jsxs)(n.p,{children:["Use the ",(0,s.jsx)(n.a,{href:"/guides/capabilities/webhooks/webhook-events",children:"events overview guide"})," to identify the\r\nevents your webhook endpoint needs to parse."]}),"\n",(0,s.jsx)(n.h3,{id:"step-2-create-a-webhook-endpoint",children:"Step 2: Create a webhook endpoint"}),"\n",(0,s.jsx)(n.p,{children:"Set up an HTTP endpoint that can accept webhook requests with a POST method. For\r\nexample, this route in express is a map to a Node.js webhook function."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"const express = require('express');\r\nconst app = express();\r\n\r\napp.post('/webhook', express.json({ type: 'application/json' }), (req, res) => {\r\n  const event = request.body;\r\n  // ... do further processing\r\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"step-3-handle-requests-from-dyte",children:"Step 3: Handle requests from Dyte"}),"\n",(0,s.jsx)(n.p,{children:"Your endpoint must be configured to receive events for the type of event\r\nnotifications you want to receive. Dyte sends events to your webhook endpoint as\r\npart of a POST request with a JSON payload."}),"\n",(0,s.jsx)(n.h4,{id:"register-your-endpoint",children:"Register your Endpoint"}),"\n",(0,s.jsxs)(n.p,{children:["You can register your endpoint as a webhook and listen for specific events using\r\nour ",(0,s.jsx)(n.a,{href:"https://dev.dyte.io",children:"dev portal"})," or by making an API request. For example,\r\nto receive all events, you can make a request like:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'curl --location --request POST \'https://api.dyte.io/v2/webhooks\' \\\r\n--header \'Authorization: Basic WRiOmQyNzBmYjJmOGNiNGUzZWY1MGI1\' \\\r\n--header \'Content-Type: application/json\' \\\r\n--data-raw \'{\r\n    "name": "All events webhook",\r\n    "url": "<your endpoint here>",\r\n    "events": [\r\n        "meeting.started",\r\n        "meeting.ended",\r\n        "meeting.participantJoined",\r\n        "meeting.participantLeft",\r\n        "recording.statusUpdate",\r\n        "livestreaming.statusUpdate"\r\n    ]\r\n}\'\n'})}),"\n",(0,s.jsxs)(n.p,{children:["For more information, check out the\r\n",(0,s.jsx)(n.a,{href:"/api/?v=v2#/operations/addWebhook",children:"webhooks API reference"}),"."]}),"\n",(0,s.jsxs)(n.h4,{id:"check-for-dyte-uuid-header",children:["Check for ",(0,s.jsx)(n.code,{children:"dyte-uuid"})," Header"]}),"\n",(0,s.jsxs)(n.p,{children:["Each webhook will have a unique value for the ",(0,s.jsx)(n.code,{children:"dyte-uuid"})," header. You can use\r\nthese to ensure you don't process any retries."]}),"\n",(0,s.jsxs)(n.h4,{id:"return-a-2xx-response",children:["Return a ",(0,s.jsx)(n.code,{children:"2xx"})," Response"]}),"\n",(0,s.jsxs)(n.p,{children:["Your endpoint must quickly (within 3 seconds) return a successful status code (",(0,s.jsx)(n.code,{children:"2xx"}),") prior to any\r\ncomplex logic that could cause a timeout."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"app.post('/webhook', express.json({ type: 'application/json' }), (req, res) => {\r\n  const event = request.body;\r\n  // ... do further processing\r\n  res.status(200).send();\r\n  // ... perform heavy tasks\r\n  return;\r\n});\n"})}),"\n",(0,s.jsx)(n.h4,{id:"built-in-retries",children:"Built-in Retries"}),"\n",(0,s.jsxs)(n.p,{children:["Dyte webhooks have built-in retry methods for ",(0,s.jsx)(n.code,{children:"3xx"}),", ",(0,s.jsx)(n.code,{children:"4xx"})," or ",(0,s.jsx)(n.code,{children:"5xx"})," response\r\nstatus codes. If Dyte doesn't receive a ",(0,s.jsx)(n.code,{children:"2xx"})," response status code for an event within 3 seconds,\r\nwe mark the event as failed and retry up to 5 times."]}),"\n",(0,s.jsx)(n.h3,{id:"step-4-secure-your-webhooks-recommended",children:"Step 4: Secure your webhooks (recommended)"}),"\n",(0,s.jsxs)(n.p,{children:["Use ",(0,s.jsx)(n.a,{href:"/guides/capabilities/webhooks/signatures",children:"webhook signatures"})," to verify that Dyte\r\ngenerated a webhook request and that it didn't come from a malicious server\r\npretending to be Dyte."]}),"\n",(0,s.jsx)(n.h4,{id:"sample-code",children:"Sample code"}),"\n",(0,s.jsx)(i,{children:(0,s.jsx)(o,{value:"node",label:"Node.js",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"const express = require('express');\r\nconst app = express();\r\n\r\napp.post('/webhook', express.json({ type: 'application/json' }), (req, res) => {\r\n  // verify signature\r\n  // ...\r\n\r\n  // parse event body\r\n  switch (req.body.event) {\r\n    case 'meeting.participantJoined':\r\n      const { meeting, participant } = req.body;\r\n      // Then define and call a method to handle the joined participant\r\n      // handleParticipantJoined(meeting, participant);\r\n      break;\r\n    case 'recording.statusUpdate':\r\n      const { meeting, recording } = req.body;\r\n      // Then define and call a method to handle the recording status update\r\n      // handleRecordingUpdate(meeting, recording);\r\n      break;\r\n    // ... handle other event types\r\n    default:\r\n      console.log(`Unhandled event type ${event.type}`);\r\n  }\r\n});\r\n\r\napp.listen(8000, () => console.log('Running on port 8000'));\n"})})})}),"\n",(0,s.jsx)(n.h3,{id:"step-5-register-your-https-url",children:"Step 5: Register your HTTPS URL"}),"\n",(0,s.jsxs)(n.p,{children:["Register your publicly accessible HTTPS URL using the\r\n",(0,s.jsx)(n.a,{href:"https://dev.dyte.io",children:"Dyte developer portal"})," or\r\n",(0,s.jsx)(n.a,{href:"/api/?v=v2#/operations/addWebhook",children:"Webhook APIs"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"see-also",children:"See also"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/guides/capabilities/webhooks/webhook-events",children:"Events overview guide"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/api/?v=v2#/operations/addWebhook",children:"Webhooks API reference"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/guides/capabilities/webhooks/signatures",children:"Webhook signatures"})}),"\n"]}),"\n",(0,s.jsxs)(t,{children:[(0,s.jsx)("title",{children:"Set Up Webhooks to Receive Real-time Updates Guide"}),(0,s.jsx)("meta",{name:"description",content:"Learn about the relationship between webhooks and events in Dyte. Follow our guide for effective integration and management."})]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}function p(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>a});var o=t(96540);const s={},r=o.createContext(s);function i(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);